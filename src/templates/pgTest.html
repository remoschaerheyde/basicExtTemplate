<div>
     <h1>heyde comment tbl</h1>
     <table>
        <thead>
            <tr>
                <th ng-repeat="dimInfo in vm._dimensionsInfo track by $index">
                    <span>{{dimInfo.qGroupFallbackTitles[0]}} </span>
                </th>
               <th ng-repeat="measureInfo in vm._measureInfo track by $index">
                    <span>{{measureInfo.qFallbackTitle}} </span>
                </th> 
                <span><th>Comments</th></span>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="row in vm._matrixData track by $index" ng-init="outerRowIndex = $index">
                <td ng-repeat="cell in row track by $index">
                    <div ng-if="$index !== vm.commentColIndex" >
                        <span>{{cell.qText}}</span>
                    </div>
                    <div ng-if="$index === vm.commentColIndex">
                        <input type="text" value="{{cell.qText}}" ng-hide="vm.showEditForCell === outerRowIndex" ng-click="vm.showEditForCell = outerRowIndex; vm.textAreaComment = cell.qText"> 
                        
                      <div ng-show="vm.showEditForCell === outerRowIndex">
                            <h2>Edit Comment</h2>
                            <textarea ng-model="vm.textAreaComment"></textarea>
                            <br>
                            <button ng-click="vm.addOrUpdateComment(row, outerRowIndex); vm.showEditForCell = -1">create/update</button>
                            <button ng-click="vm.deleteComment(row, outerRowIndex); vm.showEditForCell = -1">delete</button>

                            <button ng-click="vm.showEditForCell = -1">close</button>
                        </div>
                    </div>
                </td>
        
            </tr>
        </tbody>
     </table>

</div>